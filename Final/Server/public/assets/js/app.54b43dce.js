(function(t){function e(e){for(var s,a,o=e[0],c=e[1],u=e[2],h=0,d=[];h<o.length;h++)a=o[h],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(e);while(d.length)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],s=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(s=!1)}s&&(r.splice(e--,1),t=a(a.s=n[0]))}return t}var s={},i={app:0},r=[];function a(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=s,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(n,s,function(e){return t[e]}.bind(null,s));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"012e":function(t,e,n){},"05d6":function(t,e,n){},"087f":function(t,e,n){},"0f96":function(t,e,n){},1:function(t,e){},"1b57":function(t,e,n){t.exports=n.p+"assets/img/mongodb.973959d0.png"},"236e":function(t,e,n){"use strict";var s=n("05d6"),i=n.n(s);i.a},"255d":function(t,e,n){"use strict";var s=n("ebfb"),i=n.n(s);i.a},"26ef":function(t,e,n){},"2c26":function(t,e,n){"use strict";var s=n("6ae0"),i=n.n(s);i.a},"31a8":function(t,e,n){},"3d20":function(t,e,n){"use strict";var s=n("087f"),i=n.n(s);i.a},4008:function(t,e,n){},"414f":function(t,e,n){t.exports=n.p+"assets/img/node.c75dd449.png"},4822:function(t,e,n){t.exports=n.p+"assets/img/LogoGrey.1c5d03c7.png"},"587b":function(t,e,n){"use strict";var s=n("9931"),i=n.n(s);i.a},"5c5a":function(t,e,n){},"5ebb":function(t,e,n){"use strict";var s=n("012e"),i=n.n(s);i.a},"5f22":function(t,e,n){},"62f4":function(t,e,n){"use strict";var s=n("d918"),i=n.n(s);i.a},"654d":function(t,e,n){},"65a3":function(t,e,n){"use strict";var s=n("9c2a"),i=n.n(s);i.a},"6ae0":function(t,e,n){},"70c6":function(t,e,n){"use strict";var s=n("5f22"),i=n.n(s);i.a},7207:function(t,e,n){t.exports=n.p+"assets/img/Info.4ebb5d9b.svg"},"7f66":function(t,e,n){"use strict";var s=n("4008"),i=n.n(s);i.a},"81b4":function(t,e,n){t.exports=n.p+"assets/img/MusicOff.35d757dd.svg"},"8ec6":function(t,e,n){"use strict";var s=n("c2af"),i=n.n(s);i.a},9325:function(t,e,n){t.exports=n.p+"assets/img/vue.4e8d28e1.png"},9931:function(t,e,n){},9993:function(t,e,n){"use strict";var s=n("c352"),i=n.n(s);i.a},"9c2a":function(t,e,n){},a6da:function(t,e,n){"use strict";var s=n("fa78"),i=n.n(s);i.a},aae8:function(t,e,n){"use strict";var s=n("654d"),i=n.n(s);i.a},b429:function(t,e,n){t.exports=n.p+"assets/img/babel.2c221199.png"},b448:function(t,e,n){"use strict";var s=n("ceee"),i=n.n(s);i.a},b512:function(t,e,n){"use strict";var s=n("0f96"),i=n.n(s);i.a},bf86:function(t,e,n){},c2af:function(t,e,n){},c352:function(t,e,n){},c3ac:function(t,e,n){"use strict";var s=n("5c5a"),i=n.n(s);i.a},c515:function(t,e,n){"use strict";var s=n("d548"),i=n.n(s);i.a},cd49:function(t,e,n){"use strict";n.r(e);n("7f7f"),n("cadf"),n("551c"),n("f751"),n("097d");var s=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view"),n("AboutLink"),n("BackgroundMusic"),n("PlayerCount")],1)},r=[],a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container",on:{click:function(e){return t.onClick()}}},[s("img",{attrs:{src:n("7207"),alt:"about"}})])},o=[],c={name:"AboutLink",methods:{onClick:function(){this.$router.push("/about")}}},u=c,l=(n("3d20"),n("2877")),h=Object(l["a"])(u,a,o,!1,null,"48c8d3b5",null),d=h.exports,p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container",on:{click:function(e){return t.onClick()}}},[s("img",{class:{hidden:t.isMuted},attrs:{src:n("e2d3"),alt:"Mute Catnip (c)"}}),s("img",{class:{hidden:!t.isMuted},attrs:{src:n("81b4"),alt:"Mute Catnip (c)"}}),s("audio",{ref:"music",attrs:{muted:"muted",autoplay:"",loop:"",src:"/Catnip.mp3",type:"audio/mp3"}})])},f=[],m={name:"BackgroundMusic",data:function(){return{isMuted:!1,music:null}},methods:{onClick:function(){this.isMuted=!this.isMuted,this.isMuted?this.$refs.music.pause():this.$refs.music.play()}},mounted:function(){}},v=m,g=(n("236e"),Object(l["a"])(v,p,f,!1,null,"45392646",null)),b=g.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("p",[t._v(t._s(t.count))])])},y=[],w=(n("96cf"),n("3b8d")),C=n("bc3a"),R=n.n(C),_={name:"PlayerCount",data:function(){return{count:0,refreshId:null}},mounted:function(){this.refreshId=setInterval(this.getPlayerCount.bind(this),5e3)},methods:{getPlayerCount:function(){var t=Object(w["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.a.get("/stats");case 3:e=t.sent,console.log("[PlayerCount] Got stats from fetch."),this.count=e.data.playerCount,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log("[PlayerCount] Stats fetch failed."),this.stopRefresh();case 12:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),stopRefresh:function(){this.refreshId&&clearInterval(this.refreshId)}}},k=_,E=(n("8ec6"),Object(l["a"])(k,x,y,!1,null,"042948d5",null)),P=E.exports,L={components:{AboutLink:d,BackgroundMusic:b,PlayerCount:P}},M=L,O=(n("9993"),Object(l["a"])(M,i,r,!1,null,null,null)),I=O.exports,q=n("8c4f"),$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"root"},[n("Parallax",{staticClass:"background"}),n("div",{staticClass:"box"},[n("AboutContent")],1)],1)},A=[],j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("canvas",{ref:"parallax-canvas"})])},S=[],T=(n("6c7b"),function(){function t(){this.x=Math.random(),this.y=Math.random(),this.speed=.003*Math.random()+1e-4}return t.prototype.offset=function(t,e){this.x=(this.x+this.speed*t)%1,this.y=(this.y+this.speed*e)%1,this.x<0&&(this.x+=1),this.y<0&&(this.y+=1)},t.prototype.render=function(t,e){t.moveTo(this.x*e,this.y*e),t.arc(this.x*e,this.y*e,.6+this.speed/.2,0,2*Math.PI)},t}()),z=T,F=function(){function t(t){this.bkgColor="#151D29",this.starColor="#FFFFFF",this.context=t,this.scale=1,this.stars=[],this.requestId=-1,this.cx=Math.cos(Math.PI/4),this.cy=Math.cos(Math.PI/4),this.initStars(1e3),this.onResized(),this.registerEvents()}return t.prototype.start=function(){this.requestId=requestAnimationFrame(this.render.bind(this))},t.prototype.initStars=function(t){for(var e=0;e<t;e++)this.stars[e]=new z},t.prototype.registerEvents=function(){document.addEventListener("mousemove",this.onMouseMoved.bind(this)),window.addEventListener("resize",this.onResized.bind(this))},t.prototype.unRegisterEvents=function(){document.removeEventListener("mousemove",this.onMouseMoved.bind(this)),window.removeEventListener("resize",this.onResized.bind(this))},t.prototype.onMouseMoved=function(t){var e=Math.atan2(-(this.context.canvas.clientHeight/2+this.context.canvas.clientTop)+t.clientY,-(this.context.canvas.clientWidth/2+this.context.canvas.clientLeft)+t.clientX);this.cx=Math.cos(e),this.cy=Math.sin(e)},t.prototype.onResized=function(){this.context.canvas.width=this.context.canvas.clientWidth,this.context.canvas.height=this.context.canvas.clientHeight,this.scale=this.context.canvas.width>this.context.canvas.height?this.context.canvas.width:this.context.canvas.height},t.prototype.render=function(t){this.context.fillStyle=this.bkgColor,this.context.fillRect(0,0,this.context.canvas.width,this.context.canvas.height),this.context.fillStyle=this.starColor,this.context.beginPath();for(var e=0,n=this.stars;e<n.length;e++){var s=n[e];s.render(this.context,this.scale),s.offset(this.cx,this.cy)}this.context.fill(),requestAnimationFrame(this.render.bind(this))},t}(),U=F,G={name:"Parallax",mounted:function(){var t=this.$refs["parallax-canvas"].getContext("2d");this.par=new U(t),this.par.start()},methods:{}},V=G,B=(n("c515"),Object(l["a"])(V,j,S,!1,null,"54b0d20b",null)),H=B.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("AnimatedLogo",{staticClass:"logo"}),n("p",{staticClass:"title"},[t._v("Technologies")]),t._m(0)],1)},D=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"lib-box"},[s("img",{staticClass:"lib-logo",attrs:{src:n("d243")}}),s("img",{staticClass:"lib-logo",attrs:{src:n("414f")}}),s("img",{staticClass:"lib-logo",attrs:{src:n("b429")}}),s("img",{staticClass:"lib-logo",attrs:{src:n("9325")}}),s("img",{staticClass:"lib-logo",attrs:{src:n("d594")}}),s("img",{staticClass:"lib-logo",attrs:{src:n("1b57")}}),s("img",{staticClass:"lib-logo",attrs:{src:n("f694")}})])}],Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("canvas",{ref:"logo-canvas"})])},K=[],W=function(){function t(t){this.color="#FFFFFF",this.scale=1e-5,this.increasing=!0,this.context=t,this.requestId=-1,this.onResized(),this.registerEvents()}return t.prototype.start=function(){this.requestId=requestAnimationFrame(this.render.bind(this))},t.prototype.registerEvents=function(){window.addEventListener("resize",this.onResized.bind(this))},t.prototype.unRegisterEvents=function(){window.removeEventListener("resize",this.onResized.bind(this))},t.prototype.onResized=function(){this.context.canvas.width=2*this.context.canvas.clientWidth,this.context.canvas.height=2*this.context.canvas.clientHeight},t.prototype.cubicEaseInOut=function(t,e,n,s){return t/=s/2,t<1?n/2*t*t*t+e:(t-=2,n/2*(t*t*t+2)+e)},t.prototype.render=function(t){var e=3e3,n=this.cubicEaseInOut(t%e,0,1,e);this.scale=t%(2*e)>e?n:1-n,this.context.clearRect(0,0,this.context.canvas.width,this.context.canvas.height);var s=this.context.canvas.width/2,i=this.context.canvas.height/2;this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.lineWidth=20*Math.log(60*this.scale+10),this.context.beginPath(),this.context.ellipse(s,i,.4*i*this.scale,.8*i,0,.25*Math.PI,.75*Math.PI,!0),this.context.stroke(),this.context.beginPath(),this.context.ellipse(s,i-.2*i,.1*i,.1*i,0,0,2*Math.PI,!0),this.context.fill(),requestAnimationFrame(this.render.bind(this))},t}(),J=W,X={name:"AnimatedLogo",mounted:function(){var t=this.$refs["logo-canvas"].getContext("2d");this.logo=new J(t),this.logo.start()},methods:{}},Y=X,Z=(n("70c6"),Object(l["a"])(Y,Q,K,!1,null,"182262f6",null)),tt=Z.exports,et={name:"AboutContent",components:{AnimatedLogo:tt}},nt=et,st=(n("7f66"),Object(l["a"])(nt,N,D,!1,null,"3e9dd266",null)),it=st.exports,rt={name:"About",components:{Parallax:H,AboutContent:it},data:function(){return{}},methods:{}},at=rt,ot=(n("b512"),Object(l["a"])(at,$,A,!1,null,"35260a96",null)),ct=ot.exports,ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("Parallax",{staticClass:"background"}),n("div",{staticClass:"box"},[n("AccountPage")],1)],1)},lt=[],ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("p",{staticClass:"status"},[t._v(t._s(t.status))]),n("img",{staticClass:"avatar",attrs:{src:""+t.gravatar}}),n("p",{staticClass:"name"},[t._v(t._s(t.name))]),n("p",{staticClass:"email"},[t._v("("+t._s(t.email)+")")]),n("p",{staticClass:"score"},[t._v("- Score "+t._s(t.score)+" -")])])},dt=[],pt=n("6821f"),ft=n.n(pt),mt={name:"AccountPage",data:function(){return{account:null,status:"",gravatar:"",name:"",email:"",score:0}},mounted:function(){var t=Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getAccount();case 2:if(this.account=t.sent,this.account){t.next=6;break}return status="Unable to retrieve account.",t.abrupt("return");case 6:return this.name=this.account.username.toUpperCase(),this.email=this.account.email,this.score=this.account.score,t.next=11,this.getGravatar();case 11:this.gravatar=t.sent;case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getAccount:function(){var t=Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.account){t.next=2;break}return t.abrupt("return",this.account);case 2:return t.prev=2,t.next=5,this.$store.state.client.requestAccountInfo();case 5:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t["catch"](2),console.log("[Account] Error while getting account info.");case 12:case"end":return t.stop()}}),t,this,[[2,9]])})));function e(){return t.apply(this,arguments)}return e}(),getGravatar:function(){var t=Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return","https://gravatar.com/avatar/".concat(ft()(this.account.avatar.toLowerCase()),"?size=256"));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},vt=mt,gt=(n("b448"),Object(l["a"])(vt,ht,dt,!1,null,"18c16010",null)),bt=gt.exports,xt={name:"Account",components:{Parallax:H,AccountPage:bt},data:function(){return{}},methods:{}},yt=xt,wt=(n("2c26"),Object(l["a"])(yt,ut,lt,!1,null,"33ff1a6f",null)),Ct=wt.exports,Rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("Parallax",{staticClass:"background"}),n("GameScreen",{staticClass:"screen"}),n("GameMenu",{staticClass:"box",class:{hidden:t.menuHidden}})],1)},_t=[],kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[t._v("\n  Hello\n")])},Et=[],Pt={name:"GameMenu"},Lt=Pt,Mt=(n("62f4"),Object(l["a"])(Lt,kt,Et,!1,null,"20953940",null)),Ot=Mt.exports,It=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("canvas",{ref:"screen"})},qt=[],$t=(n("ac6a"),n("5df3"),n("f400"),function(){function t(){}return t.render=function(t,e){t.fillStyle="#ee2",t.moveTo(e.x,e.y),t.rect(e.x,e.y,100,100)},t.renderUi=function(t,e){t.fillStyle="#d22",t.moveTo(e.x,e.y+100),t.rect(e.x,e.y+100,e.hp,10)},t}()),At=$t,jt=function(){function t(){this.upPressed=!1,this.downPressed=!1,this.leftPressed=!1,this.rightPressed=!1,this.speed=10,this.entity={x:0,y:0,hp:100}}return t.prototype.registerEvents=function(){document.addEventListener("keypress",this.onKeyDown.bind(this)),document.addEventListener("keyup",this.onKeyUp.bind(this))},t.prototype.unRegisterEvents=function(){document.removeEventListener("keypress",this.onKeyDown.bind(this)),document.removeEventListener("keyup",this.onKeyUp.bind(this))},t.prototype.onKeyDown=function(t){"a"===t.key||"ArrowLeft"===t.key?this.leftPressed=!0:"w"===t.key||"ArrowUp"===t.key?this.upPressed=!0:"s"===t.key||"ArrowDown"===t.key?this.downPressed=!0:"d"!==t.key&&"ArrowRight"!==t.key||(this.rightPressed=!0)},t.prototype.onKeyUp=function(t){"a"===t.key||"ArrowLeft"===t.key?this.leftPressed=!1:"w"===t.key||"ArrowUp"===t.key?this.upPressed=!1:"s"===t.key||"ArrowDown"===t.key?this.downPressed=!1:"d"!==t.key&&"ArrowRight"!==t.key||(this.rightPressed=!1)},t.prototype.update=function(){this.leftPressed&&(this.entity.x+=-this.speed),this.rightPressed&&(this.entity.x+=this.speed),this.upPressed&&(this.entity.y+=-this.speed),this.downPressed&&(this.entity.y+=this.speed)},t.prototype.render=function(t){At.render(t,this.entity)},t.prototype.renderUi=function(t){At.renderUi(t,this.entity)},t}(),St=jt,Tt=function(){function t(t,e){this.context=t,this.client=e,this.player=new St,this.entities=new Map,this.requestId=-1,this.lastTime=0,this.accumTime=0,this.stepTime=1e3/60}return t.prototype.start=function(){this.onResized(),this.registerEvents()},t.prototype.close=function(){this.unRegisterEvents()},t.prototype.registerEvents=function(){window.addEventListener("resize",this.onResized.bind(this)),this.player.registerEvents(),this.requestId=requestAnimationFrame(this.tick.bind(this)),this.client.subscribeToRoom(this.onServerTick.bind(this))},t.prototype.unRegisterEvents=function(){this.client.unSubscribeToRoom(this.onServerTick.bind(this)),cancelAnimationFrame(this.requestId),this.player.unRegisterEvents(),window.removeEventListener("resize",this.onResized.bind(this))},t.prototype.onResized=function(){this.context.canvas.width=2*this.context.canvas.clientWidth,this.context.canvas.height=2*this.context.canvas.clientHeight},t.prototype.onServerTick=function(t){this.entities=new Map(t)},t.prototype.tick=function(t){var e=t-this.lastTime;if(this.lastTime=t,this.accumTime+=e,this.accumTime>this.stepTime){while(this.accumTime>this.stepTime)this.update(),this.accumTime-=this.stepTime;this.client.sendClientTick(this.player.entity)}this.render(),this.requestId=requestAnimationFrame(this.tick.bind(this))},t.prototype.update=function(){this.player.update()},t.prototype.render=function(){var t=this;this.context.clearRect(0,0,this.context.canvas.width,this.context.canvas.height),this.context.beginPath(),this.player.render(this.context),this.entities.forEach((function(e,n){n!==t.client.id&&At.render(t.context,e)})),this.context.fill(),this.context.beginPath(),this.player.renderUi(this.context),this.entities.forEach((function(e,n){n!==t.client.id&&At.renderUi(t.context,e)})),this.context.fill()},t}(),zt=Tt,Ft={name:"GameScreen",data:function(){return{screen:null}},mounted:function(){var t=this.$refs["screen"].getContext("2d",{alpha:!1});this.screen=new zt(t,this.$store.state.client),this.screen.start()},methods:{},beforeRouteLeave:function(t,e,n){this.screen&&this.screen.close(),n()}},Ut=Ft,Gt=(n("ff40"),Object(l["a"])(Ut,It,qt,!1,null,"27e8eb37",null)),Vt=Gt.exports,Bt={name:"Game",components:{Parallax:H,GameMenu:Ot,GameScreen:Vt},data:function(){return{menuHidden:!0}},methods:{}},Ht=Bt,Nt=(n("587b"),Object(l["a"])(Ht,Rt,_t,!1,null,"43da1942",null)),Dt=Nt.exports,Qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("Parallax"),n("div",{staticClass:"right"},[n("AnimatedLogo",{staticClass:"logo"})],1),n("div",{staticClass:"left"},[n("Menu")],1)],1)},Kt=[],Wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"menu-box"},[n("div",{staticClass:"title"},[t._v("Aphelion")]),n("div",{staticClass:"menu-item",on:{click:function(e){return t.onClick("game")}}},[n("p",[t._v("Play")])]),n("div",{staticClass:"menu-item",on:{click:function(e){return t.onClick("account")}}},[n("p",[t._v("Account")])]),n("div",{staticClass:"menu-item",on:{click:function(e){return t.onClick("leaderboard")}}},[n("p",[t._v("Leaderboards")])])])},Jt=[],Xt={name:"Menu",methods:{onClick:function(t){this.$router.push("/".concat(t))}}},Yt=Xt,Zt=(n("255d"),Object(l["a"])(Yt,Wt,Jt,!1,null,"4227f686",null)),te=Zt.exports,ee={name:"Home",components:{Menu:te,Parallax:H,AnimatedLogo:tt}},ne=ee,se=(n("65a3"),Object(l["a"])(ne,Qt,Kt,!1,null,"34c9e606",null)),ie=se.exports,re=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("Parallax",{staticClass:"background"}),n("div",{staticClass:"box"},[n("Board",{attrs:{entries:t.entries}})],1)],1)},ae=[],oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header",{attrs:{title:"LeaderBoards"}}),n("div",{staticClass:"entry-container"},[n("div",{staticClass:"entry-header"}),t._l(t.entries,(function(t){return n("div",{key:t.id},[n("BoardEntry",{attrs:{entry:t}})],1)}))],2)],1)},ce=[],ue=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title"},[t._v("\n  "+t._s(t.title)+"\n")])},le=[],he={name:"Header",props:["title"]},de=he,pe=(n("aae8"),Object(l["a"])(de,ue,le,!1,null,"f0047f30",null)),fe=pe.exports,me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"board-entry"},[n("img",{staticClass:"avatar",attrs:{src:""+t.gravatar}}),n("p",{staticClass:"name"},[t._v("\n    "+t._s(t.entry.username)+"\n  ")]),n("p",{staticClass:"score"},[t._v("\n    "+t._s(t.entry.score)+"\n  ")])])},ve=[],ge={name:"BoardEntry",props:["entry"],data:function(){return{gravatar:"https://gravatar.com/avatar/".concat(ft()(this.entry.email.toLowerCase()))}}},be=ge,xe=(n("c3ac"),Object(l["a"])(be,me,ve,!1,null,"523f7924",null)),ye=xe.exports,we={name:"Board",components:{Header:fe,BoardEntry:ye},props:["entries"]},Ce=we,Re=(n("a6da"),Object(l["a"])(Ce,oe,ce,!1,null,"daa23210",null)),_e=Re.exports,ke={name:"Leaderboard",components:{Board:_e,Parallax:H},mounted:function(){var t=Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),data:function(){return{entries:[]}}},Ee=ke,Pe=(n("5ebb"),Object(l["a"])(Ee,re,ae,!1,null,"96e76dcc",null)),Le=Pe.exports,Me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"root"},[n("Parallax",{staticClass:"background"}),n("div",{staticClass:"box"},[n("RegisterForm",{class:{hidden:!t.isRegistering},attrs:{id:"register"},on:{"switch-form":t.switchForm}}),n("LoginForm",{class:{hidden:t.isRegistering},attrs:{id:"login"},on:{"switch-form":t.switchForm}})],1)],1)},Oe=[],Ie=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-container"},[s("img",{staticClass:"logo",attrs:{src:n("4822"),alt:"Logo"}}),s("br"),s("p",{staticClass:"title"},[t._v("Register")]),s("br"),s("form",{attrs:{id:"register-form"},on:{submit:t.handleSubmit}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.repassword,expression:"repassword"}],attrs:{type:"password",placeholder:"Retype Password"},domProps:{value:t.repassword},on:{input:function(e){e.target.composing||(t.repassword=e.target.value)}}}),s("input",{attrs:{disabled:t.disabled,type:"submit",value:"Submit"}}),s("p",{staticClass:"status"},[t._v(t._s(t.status))])]),s("p",{staticClass:"message"},[t._v("\n    Already registered?\n    "),s("a",{attrs:{id:"sign-in"},on:{click:function(e){return t.$emit("switch-form")}}},[t._v("Login")])])])},qe=[],$e=function(){function t(){}return t.VerifyEmail=function(t){return/(?:[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/.test(t)},t.VerifyUsername=function(t){return/^(((?=.*[a-z])))/.test(t)},t.VerifyPassword=function(t){return/^(((?=.*[a-z])))(?=.{6,})/.test(t)},t}(),Ae=$e,je={name:"RegisterForm",data:function(){return{username:"",password:"",repassword:"",email:"",disabled:!1,status:""}},methods:{handleSubmit:function(){var t=Object(w["a"])(regeneratorRuntime.mark((function t(e){var n,s,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.preventDefault(),this.disabled=!0,console.log("[Register] Got register submit."),n=Ae.VerifyEmail(this.email),s=Ae.VerifyUsername(this.username),i=Ae.VerifyPassword(this.password),!(n&&s&&i&&this.password===this.repassword)){t.next=14;break}return console.log("[Register] Validated."),t.next=10,this.$store.state.client.requestRegister(this.username,this.email,this.password);case 10:r=t.sent,r?(console.log("[Register] Server accepted registration."),this.$store.commit("authenticate"),this.$router.push("/")):(console.log("[Register] Registration rejected by server."),this.disabled=!1,this.status="Credentials rejected by server."),t.next=17;break;case 14:console.log("[Register] Failed to validate."),this.disabled=!1,s?n?i?this.password!==this.repassword&&(this.status="Passwords must match"):this.status="Needs a valid password.":this.status="Needs a valid email address.":this.status="Needs a valid username.";case 17:return t.abrupt("return",!1);case 18:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},Se=je,Te=(n("e5c4"),Object(l["a"])(Se,Ie,qe,!1,null,"9c404894",null)),ze=Te.exports,Fe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-container"},[s("img",{staticClass:"logo",attrs:{src:n("4822"),alt:"Logo"}}),s("br"),s("p",{staticClass:"title"},[t._v("Login")]),s("br"),s("form",{attrs:{novalidate:"true"},on:{submit:t.handleSubmit}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.humanId,expression:"humanId"}],attrs:{type:"text",placeholder:"Username or Email"},domProps:{value:t.humanId},on:{input:function(e){e.target.composing||(t.humanId=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("input",{attrs:{disabled:t.disabled,type:"submit",value:"Submit"}}),s("p",{staticClass:"status"},[t._v(t._s(t.status))])]),s("p",{staticClass:"message"},[t._v(" Need an account? "),s("a",{attrs:{id:"login"},on:{click:function(e){return t.$emit("switch-form")}}},[t._v("Register")])])])},Ue=[],Ge={name:"LoginForm",data:function(){return{humanId:"",password:"",disabled:!1,status:""}},methods:{handleSubmit:function(){var t=Object(w["a"])(regeneratorRuntime.mark((function t(e){var n,s,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.preventDefault(),this.disabled=!0,console.log("[Login] Got login submit. ".concat(this.humanId," ").concat(this.password)),n=Ae.VerifyEmail(this.humanId),s=Ae.VerifyUsername(this.humanId),i=Ae.VerifyPassword(this.password),!n&&!s||!i){t.next=14;break}return console.log("[Login] Validated."),t.next=10,this.$store.state.client.requestLogin(this.humanId,n,this.password);case 10:r=t.sent,r?(console.log("[Login] Server accepted login."),this.$store.commit("authenticate"),this.$router.push("/")):(console.log("[Login] Failed to login."),this.disabled=!1,this.status="Bad login credentials."),t.next=18;break;case 14:console.log("[Login] Failed to validate."),this.disabled=!1,n||s||(this.status="Must enter a valid username or email."),this.password||(this.status="Invalid login credentials.");case 18:return t.abrupt("return",!1);case 19:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},Ve=Ge,Be=(n("d18a"),Object(l["a"])(Ve,Fe,Ue,!1,null,"6fea2040",null)),He=Be.exports,Ne={name:"Login",components:{Parallax:H,RegisterForm:ze,LoginForm:He},data:function(){return{isRegistering:!1}},methods:{switchForm:function(){this.isRegistering=!this.isRegistering}}},De=Ne,Qe=(n("e464"),Object(l["a"])(De,Me,Oe,!1,null,"139a2c79",null)),Ke=Qe.exports;s["a"].use(q["a"]);var We,Je=new q["a"]({routes:[{path:"/about",name:"about",component:ct},{path:"/account",name:"account",component:Ct},{path:"/game",name:"game",component:Dt},{path:"/",name:"home",component:ie},{path:"/leaderboard",name:"leaderboard",component:Le},{path:"/login",name:"login",component:Ke}]}),Xe=n("2f62"),Ye=n("5385"),Ze=n("9ab4"),tn=n("8055"),en=n.n(tn),nn=n("11c1"),sn=n.n(nn);(function(t){t["IdRequest"]="ID_REQ",t["RegisterRequest"]="REG_REQ",t["LoginRequest"]="LGN_REQ",t["AccountInfoRequest"]="ACC_REQ",t["LeaderboardRequest"]="LED_REQ",t["RoomRequest"]="ROO_REQ",t["LeaveRoomRequest"]="LEV_REQ",t["ClientTick"]="CLI_TIC",t["ServerTick"]="SRV_TIC"})(We||(We={}));var rn=We,an=function(){function t(){var t=this;this.id=sn.a.v4(),this.connected=!1;var e={autoConnect:!1};this.socket=en()("/",e),this.socket.on("connect",this.onConnected.bind(this)),this.socket.on(rn.IdRequest,(function(e){e(t.id)})),this.socket.connect(),this.roomId=""}return t.prototype.onConnected=function(){this.connected=!0},t.prototype.isConnected=function(){return this.connected},t.prototype.requestLogin=function(t,e,n){return this.createRequest(rn.LoginRequest,t,e,n)},t.prototype.requestRegister=function(t,e,n){return this.createRequest(rn.RegisterRequest,t,e,n)},t.prototype.requestLeaderBoards=function(){return this.createRequest(rn.LeaderboardRequest)},t.prototype.requestAccountInfo=function(){return this.createRequest(rn.AccountInfoRequest)},t.prototype.requestRoom=function(){return this.createRequest(rn.RoomRequest)},t.prototype.createRequest=function(t){for(var e=this,n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];var i=new Promise((function(s,i){var r;try{(r=e.socket).emit.apply(r,Object(Ze["a"])([t,e.id],n,[function(t){s(t)}]))}catch(a){i(a.message)}}));return i},t.prototype.subscribeToRoom=function(t){var e=this;this.requestRoom().then((function(n){console.log("[ Client ] Subscribed to room "+n+"."),e.socket.on(rn.ServerTick,t)}))},t.prototype.unSubscribeToRoom=function(t){this.socket.emit(rn.LeaveRoomRequest,this.id),this.socket.off(rn.ServerTick,t)},t.prototype.sendClientTick=function(t){this.socket.emit(rn.ClientTick,this.id,t)},t}(),on=an;s["a"].use(Xe["a"]),s["a"].use(Ye["a"]);var cn={client:new on,authenticated:!1},un=new Xe["a"].Store({state:cn,mutations:{authenticate:function(t){t.authenticated=!0}},actions:{}});s["a"].config.productionTip=!1,Je.beforeEach((function(t,e,n){"login"===t.name||"about"===t.name||un.state.authenticated?"login"===t.name&&un.state.authenticated?n("/"):n():n("/login")})),new s["a"]({router:Je,store:un,render:function(t){return t(I)}}).$mount("#app")},ceee:function(t,e,n){},d18a:function(t,e,n){"use strict";var s=n("bf86"),i=n.n(s);i.a},d243:function(t,e,n){t.exports=n.p+"assets/img/ts.ddc7d8a1.png"},d548:function(t,e,n){},d594:function(t,e,n){t.exports=n.p+"assets/img/socket-io.25500dcd.png"},d918:function(t,e,n){},e2d3:function(t,e,n){t.exports=n.p+"assets/img/MusicOn.87077e62.svg"},e464:function(t,e,n){"use strict";var s=n("ea61"),i=n.n(s);i.a},e5c4:function(t,e,n){"use strict";var s=n("31a8"),i=n.n(s);i.a},ea61:function(t,e,n){},ebfb:function(t,e,n){},f694:function(t,e,n){t.exports=n.p+"assets/img/bcrypt.b559365d.png"},fa78:function(t,e,n){},ff40:function(t,e,n){"use strict";var s=n("26ef"),i=n.n(s);i.a}});
//# sourceMappingURL=app.54b43dce.js.map